{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = unpackFeature;\n\nvar _statuses = require('../lib/statuses');\n\nvar _statuses2 = _interopRequireDefault(_statuses);\n\nvar _supported = require('../lib/supported');\n\nvar _supported2 = _interopRequireDefault(_supported);\n\nvar _browsers = require('./browsers');\n\nvar _browserVersions = require('./browserVersions');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar MATH2LOG = Math.log(2);\n\nfunction unpackSupport(cipher) {\n  // bit flags\n  var stats = Object.keys(_supported2.default).reduce(function (list, support) {\n    if (cipher & _supported2.default[support]) list.push(support);\n    return list;\n  }, []); // notes\n\n  var notes = cipher >> 7;\n  var notesArray = [];\n\n  while (notes) {\n    var note = Math.floor(Math.log(notes) / MATH2LOG) + 1;\n    notesArray.unshift('#' + note);\n    notes -= Math.pow(2, note - 1);\n  }\n\n  return stats.concat(notesArray).join(' ');\n}\n\nfunction unpackFeature(packed) {\n  var unpacked = {\n    status: _statuses2.default[packed.B],\n    title: packed.C\n  };\n  unpacked.stats = Object.keys(packed.A).reduce(function (browserStats, key) {\n    var browser = packed.A[key];\n    browserStats[_browsers.browsers[key]] = Object.keys(browser).reduce(function (stats, support) {\n      var packedVersions = browser[support].split(' ');\n      var unpacked = unpackSupport(support);\n      packedVersions.forEach(function (v) {\n        return stats[_browserVersions.browserVersions[v]] = unpacked;\n      });\n      return stats;\n    }, {});\n    return browserStats;\n  }, {});\n  return unpacked;\n}","map":{"version":3,"sources":["/bioacustica/node_modules/caniuse-lite/dist/unpacker/feature.js"],"names":["Object","defineProperty","exports","value","default","unpackFeature","_statuses","require","_statuses2","_interopRequireDefault","_supported","_supported2","_browsers","_browserVersions","obj","__esModule","MATH2LOG","Math","log","unpackSupport","cipher","stats","keys","reduce","list","support","push","notes","notesArray","note","floor","unshift","pow","concat","join","packed","unpacked","status","B","title","C","A","browserStats","key","browser","browsers","packedVersions","split","forEach","v","browserVersions"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = unpackFeature;\n\nvar _statuses = require('../lib/statuses');\n\nvar _statuses2 = _interopRequireDefault(_statuses);\n\nvar _supported = require('../lib/supported');\n\nvar _supported2 = _interopRequireDefault(_supported);\n\nvar _browsers = require('./browsers');\n\nvar _browserVersions = require('./browserVersions');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MATH2LOG = Math.log(2);\n\nfunction unpackSupport(cipher) {\n    // bit flags\n    var stats = Object.keys(_supported2.default).reduce(function (list, support) {\n        if (cipher & _supported2.default[support]) list.push(support);\n        return list;\n    }, []);\n\n    // notes\n    var notes = cipher >> 7;\n    var notesArray = [];\n    while (notes) {\n        var note = Math.floor(Math.log(notes) / MATH2LOG) + 1;\n        notesArray.unshift('#' + note);\n        notes -= Math.pow(2, note - 1);\n    }\n\n    return stats.concat(notesArray).join(' ');\n}\n\nfunction unpackFeature(packed) {\n    var unpacked = { status: _statuses2.default[packed.B], title: packed.C };\n    unpacked.stats = Object.keys(packed.A).reduce(function (browserStats, key) {\n        var browser = packed.A[key];\n        browserStats[_browsers.browsers[key]] = Object.keys(browser).reduce(function (stats, support) {\n            var packedVersions = browser[support].split(' ');\n            var unpacked = unpackSupport(support);\n            packedVersions.forEach(function (v) {\n                return stats[_browserVersions.browserVersions[v]] = unpacked;\n            });\n            return stats;\n        }, {});\n        return browserStats;\n    }, {});\n    return unpacked;\n}"]},"metadata":{},"sourceType":"script"}